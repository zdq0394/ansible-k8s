KUBELET_ARGS="--bootstrap-kubeconfig=/var/lib/kubernetes/bootstrap_kubeconfig \
    --kubeconfig=/var/lib/kubernetes/kubelet.kubeconfig \
    --dynamic-config-dir=/var/lib/kubernetes/kubelet/dynamic_config_dir \
    --rotate-certificates \
    --network-plugin=cni \
    --network-plugin-mtu=1460 \
    --cni-conf-dir=/etc/cni/net.d \
    --cni-bin-dir=/opt/cni/bin \
    --hostname-override={{ ansible_default_ipv4.address }} \
    --pod-manifest-path=/etc/kubernetes/manifests \
    --pod-infra-container-image={{ pause_image }} \
    --cluster-dns={{ cluster_dns }} \
    --cluster-domain={{ cluster_domain }} \
    --max-pods=60 \
    --pods-per-core=8 \
    --fail-swap-on=false \
    --enforce-node-allocatable=pods,kube-reserved \
    --cgroup-driver=cgroupfs \
    --cgroup-root=/ \
    --kube-reserved-cgroup=/system.slice \
    --runtime-cgroups=/system.slice/docker.service \
    --kubelet-cgroups=/system.slice/kubelet.service \
    --kube-reserved=cpu={{ kube_reserved_cpu }},memory={{ kube_reserved_memory }} \
    --eviction-hard=memory.available<200Mi,nodefs.available<10% \
    --feature-gates=DevicePlugins=true \
    --logtostderr=false \
    --log-dir={{ kube_log_dir }}/kubelet \
    --log-file-max-size=512 \
    --healthz-bind-address=0.0.0.0 \
    --v=2"
